<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Text to Speech Demo</title>
</head>
<body>
  <h1>ElevenLabs Text to Speech</h1>
  <textarea id="textInput" rows="5" cols="50" placeholder="Enter text here"></textarea><br>
  <button id="speakBtn">Speak</button>
  <audio id="audioPlayer" controls></audio>

  <script>
    const apiKey = "sk_44fe6c453d68ce63685e941d6b24a741b426ed9fa72d73de"; 
    const voiceId = "EXAVITQu4vr4xnSDxMaL"; 

    document.getElementById('speakBtn').addEventListener('click', async () => {
      const text = document.getElementById('textInput').value;

      const response = await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${voiceId}`, {
        method: 'POST',
        headers: {
          'Accept': 'audio/mpeg',
          'Content-Type': 'application/json',
          'xi-api-key': apiKey
        },
        body: JSON.stringify({
          text: text,
          model_id: 'eleven_multilingual_v2', 
          voice_settings: {
            stability: 0.5,
            similarity_boost: 0.5
          }
        })
      });

      const audioData = await response.arrayBuffer();
      const audioBlob = new Blob([audioData], { type: 'audio/mpeg' });
      const audioUrl = URL.createObjectURL(audioBlob);
      const audioPlayer = document.getElementById('audioPlayer');
      audioPlayer.src = audioUrl;
      audioPlayer.play();
    });
  </script>
</body>
</html>
